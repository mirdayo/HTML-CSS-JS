<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<!--  
    클로저
    클로저는 내부 함수가 외부 함수의 변수에 접근할 수 있는 것을 의미
    정보 은닉(Information Hiding): 클로저를 사용하여 외부에서 접근할 수 없도록 변수를 보호하고, 함수를 통해서만 접근 가능하도록 만들 수 있습니다.
    데이터 보존(Data Persistence): 클로저를 사용하여 함수가 생성될 당시의 환경을 유지하면서, 데이터를 영구적으로 보존할 수 있습니다.
    비동기 처리(Asynchronous Operations): 클로저를 사용하여 비동기적인 작업에서 결과를 유지하고, 필요할 때에 접근할 수 있도록 할 수 있습니다.
    -->
    <script>
        //01 기본
        // function outerFunc(){
            
        //     let state = 0;  //상태변수

        //     function addStateOne()  //상태변수의 값을 1 증가
        //     {
        //         state++;
        //         console.log("cur State Val : ",state);
        //     }

        //     return addStateOne; //함수를 리턴(함수명이 리턴되면 만들어진 함수의 위치정보(주소)가 반환)
        // }
        // const closureFunc =  outerFunc();
        // closureFunc();
        // closureFunc();
        // closureFunc();

        //02
        const func2=()=>{
            let num;

            const getNum=()=>{return num;}
            const setNum=(n)=>{num=n;}

            return {
                get : getNum,
                set : setNum
            }
        }
        const closure2=func2();
        console.log(closure2);
        closure2.set(200);
        // console.log(closure2);
        // console.log(closure2.get());
    </script>
    <!-- [[Scopes]]는 JavaScript 엔진 내부의 내부 속성으로, 클로저(closure)의 스코프 체인(scope chain)을 나타냅니다. 
클로저는 함수가 선언될 때의 스코프를 기억하고, 해당 스코프 밖에서도 그 스코프에 접근할 수 있는 함수입니다.

[[Scopes]] 속성은 클로저가 접근 가능한 변수와 함수의 정보를 담고 있습니다. 일반적으로 [[Scopes]]는 디버깅 목적으로 
사용되며, 클로저가 참조하는 외부 스코프의 상위 스코프 정보를 제공합니다.

[[Scopes]] 속성을 콘솔에 출력하면 클로저의 스코프 체인을 확인할 수 있습니다. 각 스코프는 스코프 체인 상에서 
상위 스코프로 연결되어 있습니다.

예를 들어, 주어진 코드에서 closure2는 func2 함수를 실행한 결과로 반환된 객체입니다. 
이 객체는 get과 set 함수를 갖고 있으며, 이 함수들은 func2 함수 내부에서 정의된 getNum과 setNum 함수를 참조합니다.

console.log(closure2)를 실행하여 closure2 객체를 콘솔에 출력하면, [[Scopes]] 속성이 보이는데, 
이는 클로저가 참조하는 외부 스코프(여기서는 func2 함수의 스코프)를 나타냅니다. 
[[Scopes]] 속성은 클로저와 관련된 스코프 체인 정보를 제공하는 디버깅 도구입니다. -->
</body>
</html>